<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
        PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="com.ljq.bishe.mapper.WorkScoreMapper">
  <select id="findStudentScore" resultType="Score">
    select s.*,h.filepath,stu.stuname,h.workname from score s,selectcourse sc,homework h,student stu
    where s.stuid = sc.stuid and sc.teaid=#{teaid} and h.workid = s.workid and stu.stuid=s.stuid and coursename=#{course} and
    courseclass=#{courseClass} and state=#{state};
 </select>
  <select id="findAllScore" resultType="Score">
    select s.*,h.filepath,stu.stuname,h.workname
    from score s,selectcourse sc,homework h,student stu
    where s.stuid = sc.stuid and sc.teaid=#{teaid} and h.workid = s.workid and stu.stuid=s.stuid;
  </select>
    <select id="findWorkname" resultType="Homework">
        select workname,course,uploadclass from homework where teaid=#{teaid};
    </select>
    <update id="modifyScore">
        update score set score=#{score} where workid=#{workid} and stuid=#{stuid}
    </update>
</mapper>