<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
        PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="com.ljq.bishe.mapper.StudataMapper">
    <select id="stulist" resultType="Student">
       select * from student WHERE teaid=#{teaid};
    </select>
    <select id="classlist" resultType="string">
         select DISTINCT  c.courseclass from student s,selectcourse sc,course c where
        s.stuid=sc.stuid and c.teaid=#{teaid} and sc.coursename=c.coursename and sc.courseclass=c.courseclass;
    </select>
    <select id="exportdata" resultType="Student">
        select s.* from student s,selectcourse sC where s.stuid=sC.stuid and sC.courseclass=#{courseclass};
    </select>
    <insert id="importdata" parameterType="Student">
        INSERT INTO student (stuid,stuname,stusex,stuclass,stuphone,stupassword,teaid) VALUES (#{stuid},#{stuname},#{stusex},#{stuclass},#{stuphone},#{stupassword},#{teaid});
    </insert>
    <select id="findStuInfo" resultType="Student" parameterType="String">
        select * from student
        <if test="condition == 'stuid'">
            where stuid = #{conditionInfo}
        </if>
        <if test="condition == 'stuname'">
            where stuname = #{conditionInfo}
        </if>
        <if test="condition == 'stuclass'">
            where stuclass = #{conditionInfo}
        </if>
    </select>
    <update id="editStuData" parameterType="String">
        UPDATE student SET stuname=#{stuname},stuid=#{stuid},stusex=#{stusex},stuphone=#{stuphone},stuclass=#{stuclass} where stuid=#{initStuid}
    </update>
</mapper>