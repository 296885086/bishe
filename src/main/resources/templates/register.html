<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
      xmlns:layout="http:www.ultraq.net.nz/thymeleaf/layout">
<head>
    <script type="text/javascript" src="../static/js/jquery.min.css" th:src="@{/js/jquery.min.js}"></script>
    <script type="text/javascript" src="../static/js/bootstrap.min.css" th:src="@{/js/bootstrap.min.js}"></script>
    <link  rel="stylesheet" href="/css/bootstrap.min.css" th:href="@{/css/bootstrap.min.css}">
    <link  rel="stylesheet" href="/css/Login.css" th:href="@{/css/Login.css}">
    <meta charset="UTF-8">
    <title>学生作业管理系统</title>
</head>
<body class="bg">
<div id="login" class="container-fluid">
    <div class="message">学生作业管理系统老师注册</div>
    <div id="darkbannerwrap"></div>
    <form class="form-horizontal" >
        <div class="form-group">
            <label  class="col-sm-2 control-label" >真实姓名：</label>
            <div class="col-sm-10">
                <input id="truename"type="text" class="form-control"  placeholder="请输入真实姓名">
            </div>
        </div>
        <div class="form-group">
            <label  class="col-sm-2 control-label">性别：</label>
            <select class="form-control" id="registersex">
                <option th:value="男">男</option>
                <option th:value="女">女</option>
            </select>
        </div>
        <div class="form-group">
            <label  class="col-sm-2 control-label" >密码：</label>
            <div class="col-sm-10">
                <input id="password"type="password" class="form-control"  placeholder="请输入密码">
            </div>
        </div>
        <div class="form-group">
            <label  class="col-sm-2 control-label" >确认密码：</label>
            <div class="col-sm-10">
                <input id="againPwd"type="password" class="form-control"  placeholder="请再次输入密码">
            </div>
        </div>
        <div class="form-group">
            <label  class="col-sm-2 control-label" >老师工号：</label>
            <div class="col-sm-10">
                <input id="teaid" type="text" class="form-control"  placeholder="请输入老师工号">
            </div>
        </div>
        <div class="form-group">
            <label  class="col-sm-2 control-label" >联系电话：</label>
            <div class="col-sm-10">
                <input id="teaPhone" type="text" class="form-control"  placeholder="请再次输入密码">
            </div>
        </div>
        <div class="form-group">
            <div class="col-sm-offset-2 col-sm-10" id="register">
                <button type="button" id="registerbtn" class="btn btn-primary"> 注册</button>
            </div>
        </div>
    </form>
</div>
<script>

    $("#registerbtn").click(function () {
        var truename = $("#truename").val();
        var password = $("#password").val();
        var teaPhone = $("#teaPhone").val();
        var againPwd = $("#againPwd").val();
        var teaid = $("#teaid").val();
        var sex = $("#registersex").children('option:selected').val();
        var fd = new FormData();
        fd.append("truename",truename);
        fd.append("password",password);
        fd.append("teaPhone",teaPhone);
        fd.append("teaid",teaid);
        fd.append("sex",sex);

        if (truename === '' || password === '' || teaid === ''){
            alert("请确保信息完整！");
        }else if(againPwd !== password){
            alert("两次密码不一样！请检查。");
        }else {
            $.ajax({
                url:'/login/tearegister',
                type:'POST',
                enctype: "multipart/form-data",
                processData: false,
                contentType: false,
                data:fd,
                success:function(data){
                    alert('注册成功！！');
                },
                error:function (e) {
                    alert('注册失败！！');
                }
            })
        }
    })
</script>
</body>
</html>